<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abinesh A - Data Analytical Engineer | B.Tech AIML - Seeking Opportunities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/index.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const projects = [
            {
                title: "Network Anomaly Detection using ML",
                desc: "Developed an ML-based intrusion detection system using KDD Cup dataset to classify normal vs. anomalous traffic. Trained multiple models and created comprehensive visualizations for analysis.",
                tags: ["Python", "Scikit-learn", "Pandas", "NumPy", "Matplotlib", "Seaborn"],
                link: "#"
            },
            {
                title: "Blockchain Fraud Detection System",
                desc: "Built fraud detection system to identify fake accounts and suspicious transactions in blockchain networks. Applied graph analysis and ML techniques to detect Ponzi schemes and rug pulls.",
                tags: ["Python", "Pandas", "NetworkX", "Blockchain APIs", "ML"],
                link: "#"
            },
            {
                title: "Data Analysis & Visualization",
                desc: "Performed comprehensive data analysis on various datasets with Python, creating meaningful visualizations and extracting actionable insights for decision-making.",
                tags: ["Python", "Pandas", "NumPy", "Matplotlib", "Data Analysis"],
                link: "#"
            },
            {
                title: "Predictive Modeling Project",
                desc: "Developed predictive models using machine learning algorithms to forecast trends and patterns in complex datasets with high accuracy.",
                tags: ["Python", "Scikit-learn", "TensorFlow", "Statistics", "Modeling"],
                link: "#"
            }
        ];

        const skillsList = [
            'Python', 'Java', 'SQL', 'TensorFlow', 'Scikit-learn', 'Pandas', 
            'NumPy', 'Matplotlib', 'Seaborn', 'NetworkX', 'Machine Learning',
            'Data Visualization', 'Predictive Modeling', 'Blockchain Analytics', 
            'Git', 'GitHub', 'Jupyter Notebook', 'VS Code', 'Power BI', 
            'Docker', 'Linux', 'Blockchain APIs'
        ];

        // CENTRAL WEBHOOK (Google Apps Script Web App URL)
        // Replace the string below with your deployed Apps Script Web App URL
        // Example: 'https://script.google.com/macros/s/AKfycbx.../exec'
        const WEBHOOK_URL = 'https://script.google.com/macros/s/REPLACE_WITH_YOUR_WEB_APP_URL/exec';
        const ENABLE_CENTRAL_SAVE = true; // set to false to disable posting to webhook

        // ADMIN SETTINGS (client-side admin check)
        // Replace the hash below with SHA-256 hex of your chosen admin password.
        // To generate the hash in a browser console: 
        //   await (async s=>{const e=new TextEncoder();const d=await crypto.subtle.digest('SHA-256',e.encode(s));return Array.from(new Uint8Array(d)).map(b=>b.toString(16).padStart(2,'0')).join('')})('your-password')
        const ADMIN_PASSWORD_HASH = 'REPLACE_WITH_SHA256_HASH';
        // ADMIN SECRET used to fetch central messages (must match Apps Script secret)
        // Replace with a random string and keep it private. This value will be sent
        // from the admin client to the Apps Script GET endpoint for authorization.
        const ADMIN_SECRET = 'REPLACE_WITH_ADMIN_SECRET';

        function renderPortfolio() {
            const root = document.getElementById('root');
            
            root.innerHTML = `
                <div class="min-h-screen bg-gray-50 text-gray-800 antialiased">
                    <!-- Header -->
                    <header class="max-w-5xl mx-auto p-6 flex items-center justify-between border-b">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold text-lg">AB</div>
                            <div>
                                <h1 class="text-xl font-semibold">Abinesh A ‚Äî Data Analytical Engineer</h1>
                                <p class="text-sm text-gray-500">3rd Year B.Tech AIML ‚Ä¢ Seeking Opportunities ‚Ä¢ Data Analytics</p>
                            </div>
                        </div>
                        <nav class="hidden md:flex gap-6 text-sm">
                            <a href="#projects" class="hover:text-blue-600 transition">Projects</a>
                            <a href="#skills" class="hover:text-blue-600 transition">Skills</a>
                            <a href="#about" class="hover:text-blue-600 transition">About</a>
                            <a href="#contact" class="hover:text-blue-600 transition">Contact</a>
                        </nav>
                    </header>

                    <main class="max-w-5xl mx-auto p-6 grid gap-12">
                        <!-- Hero Section -->
                        <section class="grid md:grid-cols-2 gap-8 items-center bg-white rounded-2xl p-8 shadow">
                            <div>
                                <h2 class="text-4xl font-extrabold text-blue-900">Hi, I'm Abinesh A.</h2>
                                <p class="mt-4 text-gray-600 leading-relaxed">I'm a 3rd year B.Tech AIML student passionate about Data Analytics & Engineering. I'm actively seeking job opportunities to apply my skills in Python, SQL, and data visualization. Eager to learn new technologies and contribute to real-world data-driven projects that solve meaningful business problems.</p>

                                <div class="mt-6 flex gap-3 flex-wrap">
                                    <a href="#projects" class="px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition">View My Work</a>
                                    <a href="#contact" class="px-4 py-2 rounded-lg border border-gray-300 text-sm hover:bg-gray-50 transition">Contact Me</a>
                                </div>

                                <div class="mt-6 text-sm text-gray-600 space-y-1">
                                    <div>üìç Location: Coimbatore, India</div>
                                    <div>üéì 3rd Year B.Tech AIML Student</div>
                                    <div>üíº Actively seeking: Entry-level & Internship roles</div>
                                    <div>üöÄ Open to learning new technologies</div>
                                </div>
                            </div>

                            <div class="flex items-center justify-center">
                                <div class="w-64 h-64 rounded-xl bg-gradient-to-tr from-blue-100 to-cyan-50 shadow-lg flex items-center justify-center">
                                    <svg width="140" height="140" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect width="120" height="120" rx="18" fill="#E0F2FE"/>
                                        <text x="50%" y="54%" dominant-baseline="middle" text-anchor="middle" font-size="36" font-family="sans-serif" fill="#0369A1" font-weight="bold">AB</text>
                                    </svg>
                                </div>


                            
                        </section>

                        <!-- Projects Section -->
                        <section id="projects" class="bg-white rounded-2xl p-8 shadow">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-2xl font-semibold">Projects</h3>
                                <p class="text-sm text-gray-500">Data-driven solutions & end-to-end projects</p>
                            </div>

                            <div class="grid sm:grid-cols-2 gap-6">
                                ${projects.map((p, idx) => `
                                    <article class="border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow bg-gray-50 hover:border-blue-300">
                                        <div class="flex items-start justify-between">
                                            <div class="flex-1">
                                                <h4 class="font-semibold text-gray-900">${p.title}</h4>
                                                <p class="mt-2 text-sm text-gray-600 leading-relaxed">${p.desc}</p>
                                                <div class="mt-4 flex flex-wrap gap-2">
                                                    ${p.tags.map((t, i) => `<span class="text-xs px-2 py-1 rounded-md border border-blue-200 bg-blue-50 text-blue-700">${t}</span>`).join('')}
                                                </div>
                                            </div>
                                        </div>
                                    </article>
                                `).join('')}
                            </div>
                        </section>

                        <!-- Skills Section -->
                        <section id="skills" class="bg-white rounded-2xl p-8 shadow">
                            <h3 class="text-2xl font-semibold mb-6">Technical Skills</h3>
                            <div class="flex flex-wrap gap-3">
                                ${skillsList.map((s, i) => `<span class="px-4 py-2 text-sm rounded-full border border-blue-200 bg-blue-50 text-blue-700 font-medium">${s}</span>`).join('')}
                            </div>
                        </section>

                        <!-- Hiring Section -->
                        <section class="bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl p-8 shadow text-white">
                            <div class="text-center">
                                <h3 class="text-3xl font-bold mb-4">üöÄ Ready to Hire?</h3>
                                <p class="text-lg mb-6 text-blue-100">I'm actively seeking entry-level and internship opportunities in Data Analytics. Let's connect!</p>
                                
                                <div class="flex flex-wrap gap-4 justify-center mb-6">
                                    <a href="mailto:abinesharjunan850@gmail.com?subject=Job%20Opportunity%20-%20Data%20Analyst" class="px-6 py-3 rounded-lg bg-white text-blue-600 font-bold hover:bg-blue-50 transition">
                                        üìß Email Me
                                    </a>
                                    <a href="https://www.linkedin.com/in/abinesh-a-b896a0293/" target="_blank" class="px-6 py-3 rounded-lg bg-blue-500 text-white font-bold hover:bg-blue-700 transition border-2 border-white">
                                        üîó LinkedIn Profile
                                    </a>
                                    <button onclick="downloadResume()" class="px-6 py-3 rounded-lg bg-green-500 text-white font-bold hover:bg-green-600 transition">
                                        üìÑ Download Resume
                                    </button>
                                </div>

                                <p class="text-sm text-blue-100">üíº Available for: Entry-level Roles ‚Ä¢ Internships ‚Ä¢ Contract Work</p>
                                <p class="text-sm text-blue-100">üìç Location: Coimbatore, India ‚Ä¢ Remote: Preferred</p>
                            </div>
                        </section>

                        <!-- About Section -->
                        <section id="about" class="bg-white rounded-2xl p-8 shadow">
                            <h3 class="text-2xl font-semibold mb-4">About Me</h3>
                            <p class="text-gray-600 leading-relaxed mb-6">I'm a 3rd year B.Tech student in Artificial Intelligence & Machine Learning from Coimbatore. I'm passionate about data analytics and have worked on various projects involving data analysis, visualization, and statistical insights. I'm currently seeking entry-level positions and internships in data analytics to grow my skills and contribute to real-world projects. I'm quick learner with strong problem-solving abilities and enthusiasm for working with data.</p>

                            <div class="grid sm:grid-cols-3 gap-6">
                                <div class="p-4 bg-blue-50 rounded-lg">
                                    <h4 class="font-semibold text-blue-600">Current Status</h4>
                                    <p class="text-sm text-gray-600 mt-2">3rd Year B.Tech AIML ‚Ä¢ Coimbatore</p>
                                </div>
                                <div class="p-4 bg-blue-50 rounded-lg">
                                    <h4 class="font-semibold text-blue-600">Core Skills</h4>
                                    <p class="text-sm text-gray-600 mt-2">Data Analytics, Python, SQL, Excel</p>
                                </div>
                                <div class="p-4 bg-blue-50 rounded-lg">
                                    <h4 class="font-semibold text-blue-600">Job Target</h4>
                                    <p class="text-sm text-gray-600 mt-2">Entry-level & Internship roles</p>
                                </div>
                            </div>
                        </section>

                        <!-- Contact Section -->
                        <section id="contact" class="bg-white rounded-2xl p-8 shadow">
                            <h3 class="text-2xl font-semibold mb-4">Get In Touch</h3>
                            <p class="text-gray-600 mb-6">I'd love to connect! Feel free to reach out via email or connect with me on social media.</p>

                            <div class="space-y-3 text-sm mb-8">
                                <p>üìß <strong>Email:</strong> <a href="mailto:abinesharjunan850@gmail.com" class="text-blue-600 hover:underline">abinesharjunan850@gmail.com</a></p>
                                <p>üîó <strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/abinesh-a-b896a0293/" target="_blank" class="text-blue-600 hover:underline">linkedin.com/in/abinesh-a-b896a0293/</a></p>
                                <p>üìç <strong>Location:</strong> Coimbatore, India</p>
                            </div>

                            <form class="grid gap-4 max-w-lg" onsubmit="handleSubmit(event)">
                                <input type="text" placeholder="Your name" class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200" />
                                <input type="email" placeholder="Your email" class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200" />
                                <textarea placeholder="Message" rows="4" class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"></textarea>
                                <div class="flex gap-3">
                                    <button type="submit" class="px-6 py-2 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 transition">Send Message</button>
                                    <button type="button" onclick="copyEmail()" class="px-6 py-2 rounded-lg border border-gray-300 font-medium hover:bg-gray-50 transition">Copy Email</button>
                                    <button id="admin-login-btn" type="button" onclick="adminLogin()" class="px-6 py-2 rounded-lg border border-yellow-300 bg-yellow-50 text-yellow-800 font-medium hover:bg-yellow-100 transition">Admin Login</button>
                                    <button id="view-messages-btn" type="button" onclick="viewMessages()" class="px-6 py-2 rounded-lg border border-green-300 bg-green-50 text-green-700 font-medium hover:bg-green-100 transition" style="display:none;">View Messages</button>
                                    <button id="admin-logout-btn" type="button" onclick="adminLogout()" class="px-6 py-2 rounded-lg border border-red-300 bg-red-50 text-red-700 font-medium hover:bg-red-100 transition" style="display:none;">Admin Logout</button>
                                </div>

                            </form>

                        <!-- Footer -->
                        <footer class="text-center text-sm text-gray-500 p-6 border-t">Made with üíô ‚Ä¢ Abinesh ‚Ä¢ Data Analytical Engineer ‚Ä¢ 2025</footer>
                    </main>
                </div>
            `;

            // Update admin button visibility right after render
            try {
                const viewBtn = document.getElementById('view-messages-btn');
                const logoutBtn = document.getElementById('admin-logout-btn');
                const loginBtn = document.getElementById('admin-login-btn');
                if (isAdmin()) {
                    if (viewBtn) viewBtn.style.display = '';
                    if (logoutBtn) logoutBtn.style.display = '';
                    if (loginBtn) loginBtn.style.display = 'none';
                } else {
                    if (viewBtn) viewBtn.style.display = 'none';
                    if (logoutBtn) logoutBtn.style.display = 'none';
                    if (loginBtn) loginBtn.style.display = '';
                }
            } catch (e) {
                // ignore
            }
        }

        function copyEmail() {
            navigator.clipboard.writeText('abinesharjunan850@gmail.com').then(() => {
                alert('Email copied to clipboard!');
            });
        }

        // Utility: SHA-256 hash helper
        async function hashString(str) {
            const enc = new TextEncoder();
            const data = enc.encode(str);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        function isAdmin() {
            return sessionStorage.getItem('portfolioAdmin') === 'true';
        }

        async function adminLogin() {
            try {
                const pwd = prompt('Enter admin password to view messages:');
                if (!pwd) return;
                const h = await hashString(pwd);
                if (h === ADMIN_PASSWORD_HASH) {
                    sessionStorage.setItem('portfolioAdmin', 'true');
                    alert('Admin mode enabled. You can now view messages.');
                    // Re-render to update button visibility
                    renderPortfolio();
                } else {
                    alert('Incorrect password.');
                }
            } catch (err) {
                console.error('Admin login error:', err);
                alert('Unable to perform admin login in this browser.');
            }
        }

        function adminLogout() {
            sessionStorage.removeItem('portfolioAdmin');
            alert('Admin logged out.');
            renderPortfolio();
        }

        function downloadResume() {
            // Create a detailed resume in text format from actual resume
            const resumeContent = `ABINESH A
Data Analytical Engineer & AI/ML Student | B.Tech AIML (3rd Year)
Coimbatore, Tamil Nadu | abinesharjunan850@gmail.com
GitHub: Abi03122004 | LinkedIn: https://www.linkedin.com/in/abinesh-a-b896a0293/

========================================
PROFESSIONAL SUMMARY
========================================
3rd Year B.Tech student specializing in Artificial Intelligence and Machine Learning 
at Sri Shakthi Institute of Engineering and Technology. Strong foundations in Python, 
Data Structures, and ML algorithms with hands-on experience in developing academic 
and personal projects. Passionate about solving real-world problems through AI and 
data analytics. Experienced in machine learning, data visualization, and predictive 
modeling. Actively seeking entry-level positions and internships to apply skills 
in industry projects.

========================================
TECHNICAL SKILLS
========================================
Languages: Python, Java, SQL
Frameworks/Libraries: TensorFlow, Scikit-learn, Pandas, NumPy, Matplotlib, Seaborn, NetworkX
Technologies: Machine Learning, Data Visualization, Predictive Modeling, Blockchain Analytics
Tools & Platforms: Git, GitHub, Jupyter Notebook, VS Code, Power BI, Docker, Linux, Blockchain APIs

========================================
FREELANCE PROJECTS
========================================

1. NETWORK ANOMALY DETECTION USING ML
   - Developed ML-based intrusion detection system using KDD Cup dataset
   - Classified normal vs. anomalous traffic with multiple trained models
   - Created comprehensive visualizations for analysis and interpretation
   - Technologies: Python, Scikit-learn, Pandas, NumPy, Matplotlib, Seaborn
   - Focus: Cybersecurity, Network Analysis, Machine Learning

2. BLOCKCHAIN FRAUD DETECTION SYSTEM
   - Built fraud detection system for blockchain networks
   - Identified fake accounts and suspicious transactions
   - Applied graph analysis and ML techniques using NetworkX
   - Detected Ponzi schemes and rug pulls in blockchain data
   - Technologies: Python, Pandas, NetworkX, Blockchain APIs, Matplotlib
   - Focus: Blockchain Security, Graph Analysis, Anomaly Detection

3. DATA ANALYSIS & VISUALIZATION
   - Performed comprehensive data analysis on various datasets
   - Created meaningful visualizations for insights extraction
   - Generated actionable business intelligence reports
   - Technologies: Python, Pandas, NumPy, Matplotlib, Seaborn
   - Focus: Data Insights, Business Intelligence, Visualization

4. PREDICTIVE MODELING PROJECT
   - Developed predictive models using ML algorithms
   - Forecasted trends and patterns in complex datasets
   - Achieved high accuracy in model performance
   - Technologies: Python, Scikit-learn, TensorFlow, Statistics
   - Focus: Predictive Analytics, Pattern Recognition

========================================
EDUCATION
========================================
B.Tech in Artificial Intelligence & Machine Learning
Sri Shakthi Institute of Engineering and Technology, Coimbatore
CGPA: 7.12 (First 5 Semesters) | Year: 2023-2027

Higher Secondary Education
Montfort Matric Hr Sec School, State Board, Trichy | Year: 2022 | Percentage: 66.5%

Secondary Education
Montfort Matric Hr Sec School, State Board, Trichy | Year: 2020 | Percentage: 65.2%

========================================
CERTIFICATIONS & ACHIEVEMENTS
========================================
‚úì Udemy Certified Python Developer
‚úì 7-day Internship at ArtifAI Tech
‚úì Machine Learning & Data Analytics Training

========================================
ABOUT ME
========================================
I am a passionate learner and problem-solver with a strong interest in Artificial 
Intelligence, Machine Learning, and Data Analytics. My academic projects have equipped 
me with practical experience in building ML models, analyzing complex datasets, and 
creating data-driven solutions. I have worked on real-world challenges including 
network security and blockchain fraud detection.

I'm committed to continuous learning and exploring emerging technologies. I seek 
opportunities to apply my knowledge in industry settings, contribute to innovative 
solutions, and grow as a professional in the AI/ML and data analytics field.

========================================
CAREER OBJECTIVES
========================================
Seeking: Entry-level roles, Internship positions, Graduate trainee programs
Focus Areas: Data Analytics, Machine Learning, AI, Blockchain Analytics
Availability: Immediate | Preferred Work: Remote or Coimbatore

========================================
CONTACT INFORMATION
========================================
Email: abinesharjunan850@gmail.com
LinkedIn: https://www.linkedin.com/in/abinesh-a-b896a0293/
GitHub: https://github.com/Abi03122004
Location: Coimbatore, Tamil Nadu, India
Portfolio: http://localhost:8000
`;

            // Create blob and download
            const blob = new Blob([resumeContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'Abinesh_A_Resume_DataAnalyst_ML.txt';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            window.URL.revokeObjectURL(url);

            console.log('üìÑ Resume downloaded!');
        }

        function handleSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const name = form.querySelector('input[type="text"]').value;
            const email = form.querySelector('input[type="email"]').value;
            const message = form.querySelector('textarea').value;

            // Validate inputs
            if (!name || !email || !message) {
                alert('Please fill in all fields!');
                return;
            }

            // Show loading state
            const button = form.querySelector('button[type="submit"]');
            const originalText = button.textContent;
            button.textContent = 'Sending...';
            button.disabled = true;

            // INSTANTLY save to localStorage (no wait for email)
            const messages = JSON.parse(localStorage.getItem('portfolioMessages') || '[]');
            messages.push({
                name: name,
                email: email,
                message: message,
                timestamp: new Date().toLocaleString()
            });
            localStorage.setItem('portfolioMessages', JSON.stringify(messages));

            console.log('üì® Message saved locally!');
            console.log('Name:', name);
            console.log('Email:', email);
            console.log('Message:', message);

            // Show instant confirmation
            alert('‚úÖ Thank you for your message!\n\nMessage saved successfully.\nI will get back to you soon at ' + email);
            form.reset();
            button.textContent = originalText;
            button.disabled = false;

            // Send email in BACKGROUND (don't wait for it)
            setTimeout(() => {
                try {
                    emailjs.init('G_a0h_qkBPADeecGt');
                    emailjs.send('service_portfolio', 'template_portfolio', {
                        to_email: 'abinesharjunan850@gmail.com',
                        from_name: name,
                        from_email: email,
                        message: message,
                        timestamp: new Date().toLocaleString()
                    }).then(() => {
                        console.log('üìß Email notification sent successfully!');
                    }).catch((error) => {
                        console.warn('Email notification failed (message saved locally):', error);
                    });
                } catch (e) {
                    console.log('Email setup needed - message saved locally');
                }
            }, 100);

            // Send to central webhook (Google Sheets or other) - non-blocking
            (function sendToCentral() {
                if (!ENABLE_CENTRAL_SAVE) {
                    console.log('Central save disabled by configuration.');
                    return;
                }
                if (!WEBHOOK_URL || WEBHOOK_URL.includes('REPLACE_WITH_YOUR_WEB_APP_URL')) {
                    console.log('Central webhook not configured; skipping central save.');
                    return;
                }

                try {
                    fetch(WEBHOOK_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            name: name,
                            email: email,
                            message: message,
                            timestamp: new Date().toISOString()
                        })
                    }).then(response => {
                        console.log('Central store response status:', response.status);
                    }).catch(err => {
                        console.warn('Central store save failed:', err);
                    });
                } catch (err) {
                    console.warn('Central save error:', err);
                }
            })();
        }

        function showAllMessages() {
            const messages = JSON.parse(localStorage.getItem('portfolioMessages') || '[]');
            console.log('üì¨ All Messages (' + messages.length + '):');
            console.table(messages);
        }

        // If admin: fetch central messages and show admin panel. Otherwise show local messages.
        async function viewMessages() {
            if (isAdmin()) {
                // Try fetch from central store
                try {
                    const msgs = await fetchCentralMessages();
                    if (!msgs || msgs.length === 0) {
                        alert('No messages in central store.');
                        return;
                    }
                    openAdminPanel(msgs);
                } catch (err) {
                    console.warn('Failed to fetch central messages, falling back to local messages:', err);
                    showLocalMessages();
                }
            } else {
                showLocalMessages();
            }
        }

        function showLocalMessages() {
            const messages = JSON.parse(localStorage.getItem('portfolioMessages') || '[]');
            if (messages.length === 0) {
                alert('No messages yet!\n\nSend a test message to see it appear here.');
                return;
            }

            let messageText = `üì¨ SAVED MESSAGES (${messages.length} total)\n\n`;
            messages.forEach((msg, idx) => {
                messageText += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                messageText += `Message #${idx + 1}\n`;
                messageText += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                messageText += `From: ${msg.name}\n`;
                messageText += `Email: ${msg.email}\n`;
                messageText += `Time: ${msg.timestamp}\n`;
                messageText += `Message:\n${msg.message}\n\n`;
            });

            alert(messageText);
        }

        // Fetch messages from central Apps Script endpoint (GET)
        async function fetchCentralMessages() {
            if (!ENABLE_CENTRAL_SAVE) throw new Error('Central save disabled');
            if (!WEBHOOK_URL || WEBHOOK_URL.includes('REPLACE_WITH_YOUR_WEB_APP_URL')) throw new Error('Webhook not configured');
            if (!ADMIN_SECRET || ADMIN_SECRET.includes('REPLACE_WITH_ADMIN_SECRET')) throw new Error('Admin secret not configured');

            // call GET endpoint with action=list and secret
            const url = `${WEBHOOK_URL}?action=list&secret=${encodeURIComponent(ADMIN_SECRET)}`;
            const res = await fetch(url, { method: 'GET' });
            if (!res.ok) throw new Error('Central store responded with ' + res.status);
            const data = await res.json();
            if (data.status !== 'ok') throw new Error('Central store error: ' + (data.error || JSON.stringify(data)));
            return data.messages || [];
        }

        // Admin panel UI (modal)
        function openAdminPanel(messages) {
            // Remove existing panel if present
            const existing = document.getElementById('admin-panel');
            if (existing) existing.remove();

            const panel = document.createElement('div');
            panel.id = 'admin-panel';
            panel.style.position = 'fixed';
            panel.style.inset = '0';
            panel.style.background = 'rgba(0,0,0,0.6)';
            panel.style.display = 'flex';
            panel.style.alignItems = 'center';
            panel.style.justifyContent = 'center';
            panel.style.zIndex = '9999';

            const card = document.createElement('div');
            card.style.width = '90%';
            card.style.maxWidth = '900px';
            card.style.maxHeight = '80%';
            card.style.overflow = 'auto';
            card.style.background = '#fff';
            card.style.borderRadius = '12px';
            card.style.padding = '20px';
            card.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';

            const title = document.createElement('h3');
            title.textContent = `Admin ‚Äî Messages (${messages.length})`;
            title.style.margin = '0 0 12px 0';
            title.style.fontSize = '18px';
            card.appendChild(title);

            const table = document.createElement('table');
            table.style.width = '100%';
            table.style.borderCollapse = 'collapse';

            const thead = document.createElement('thead');
            thead.innerHTML = `<tr style="background:#f3f4f6"><th style="padding:8px;border:1px solid #e5e7eb;text-align:left">Time</th><th style="padding:8px;border:1px solid #e5e7eb;text-align:left">Name</th><th style="padding:8px;border:1px solid #e5e7eb;text-align:left">Email</th><th style="padding:8px;border:1px solid #e5e7eb;text-align:left">Message</th></tr>`;
            table.appendChild(thead);

            const tbody = document.createElement('tbody');
            messages.forEach(m => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td style="padding:8px;border:1px solid #e5e7eb;vertical-align:top">${escapeHtml(m.timestamp || '')}</td>`+
                               `<td style="padding:8px;border:1px solid #e5e7eb;vertical-align:top">${escapeHtml(m.name || '')}</td>`+
                               `<td style="padding:8px;border:1px solid #e5e7eb;vertical-align:top">${escapeHtml(m.email || '')}</td>`+
                               `<td style="padding:8px;border:1px solid #e5e7eb;vertical-align:top">${escapeHtml(m.message || '')}</td>`;
                tbody.appendChild(tr);
            });
            table.appendChild(tbody);
            card.appendChild(table);

            const closeRow = document.createElement('div');
            closeRow.style.display = 'flex';
            closeRow.style.justifyContent = 'flex-end';
            closeRow.style.marginTop = '12px';
            const closeBtn = document.createElement('button');
            closeBtn.textContent = 'Close';
            closeBtn.style.padding = '8px 12px';
            closeBtn.style.border = 'none';
            closeBtn.style.borderRadius = '6px';
            closeBtn.style.background = '#ef4444';
            closeBtn.style.color = '#fff';
            closeBtn.onclick = closeAdminPanel;
            closeRow.appendChild(closeBtn);
            card.appendChild(closeRow);

            panel.appendChild(card);
            document.body.appendChild(panel);
        }

        function closeAdminPanel() {
            const el = document.getElementById('admin-panel');
            if (el) el.remove();
        }

        function escapeHtml(str) {
            return String(str)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
        }

        // Render on load
        document.addEventListener('DOMContentLoaded', () => {
            renderPortfolio();
            console.log('üéØ Portfolio loaded!');
            console.log('üí° Tip: Messages are saved in browser local storage.');
            console.log('üì¨ To view all messages, type: showAllMessages()');
            // After initial render, update admin-specific button visibility if needed
            try {
                const viewBtn = document.getElementById('view-messages-btn');
                const logoutBtn = document.getElementById('admin-logout-btn');
                const loginBtn = document.getElementById('admin-login-btn');
                if (isAdmin()) {
                    if (viewBtn) viewBtn.style.display = '';
                    if (logoutBtn) logoutBtn.style.display = '';
                    if (loginBtn) loginBtn.style.display = 'none';
                } else {
                    if (viewBtn) viewBtn.style.display = 'none';
                    if (logoutBtn) logoutBtn.style.display = 'none';
                    if (loginBtn) loginBtn.style.display = '';
                }
            } catch (e) {
                // ignore if DOM elements not present yet
            }
        });
    </script>
</body>
</html>